# ğŸ› Split View Extension è°ƒè¯•æŒ‡å—

## ğŸ” é—®é¢˜è¯Šæ–­æ¸…å•

å¦‚æœç‚¹å‡»æŒ‰é’®æ²¡æœ‰å“åº”ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤è¿›è¡Œè°ƒè¯•ï¼š

### 1. åŸºç¡€æ£€æŸ¥

#### âœ… æ‰©å±•æ˜¯å¦æ­£ç¡®åŠ è½½ï¼Ÿ
- æ‰“å¼€ `chrome://extensions/`
- æ£€æŸ¥ "Split View - Chromeåˆ†å±åŠ©æ‰‹" æ˜¯å¦åœ¨åˆ—è¡¨ä¸­
- ç¡®ä¿æ‰©å±•å·²å¯ç”¨ï¼ˆå¼€å…³æ‰“å¼€ï¼‰
- æ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯æ˜¾ç¤º

#### âœ… æƒé™æ˜¯å¦æ­£ç¡®ï¼Ÿ
- åœ¨æ‰©å±•ç®¡ç†é¡µé¢ç‚¹å‡»æ‰©å±•è¯¦æƒ…
- ç¡®è®¤ä»¥ä¸‹æƒé™å·²æˆäºˆï¼š
  - `windows` - åˆ›å»ºå’Œç®¡ç†æµè§ˆå™¨çª—å£
  - `tabs` - è®¿é—®æ ‡ç­¾é¡µä¿¡æ¯
  - `storage` - ä¿å­˜ç”¨æˆ·è®¾ç½®
  - `activeTab` - è®¿é—®å½“å‰æ´»åŠ¨æ ‡ç­¾é¡µ

#### âœ… å¼€å‘è€…æ¨¡å¼æ£€æŸ¥
- ç¡®ä¿ `chrome://extensions/` é¡µé¢å³ä¸Šè§’"å¼€å‘è€…æ¨¡å¼"å·²å¼€å¯
- é‡æ–°åŠ è½½æ‰©å±•ï¼šç‚¹å‡»æ‰©å±•å¡ç‰‡ä¸Šçš„åˆ·æ–°æŒ‰é’®

### 2. æ§åˆ¶å°è°ƒè¯•

#### ğŸ“‹ æŸ¥çœ‹æ‰©å±•æ—¥å¿—
1. **æ‰©å±•å¼¹çª—æ§åˆ¶å°**ï¼š
   - å³é”®ç‚¹å‡»æ‰©å±•å›¾æ ‡
   - é€‰æ‹©"æ£€æŸ¥å¼¹å‡ºå†…å®¹"
   - æŸ¥çœ‹Consoleé¢æ¿çš„é”™è¯¯ä¿¡æ¯

2. **åå°è„šæœ¬æ§åˆ¶å°**ï¼š
   - åœ¨æ‰©å±•ç®¡ç†é¡µé¢ç‚¹å‡»"service worker"é“¾æ¥
   - æŸ¥çœ‹background.jsçš„æ—¥å¿—è¾“å‡º

3. **æµ‹è¯•é¡µé¢è°ƒè¯•**ï¼š
   - æ‰“å¼€é¡¹ç›®ä¸­çš„ `test.html` æ–‡ä»¶
   - åœ¨é¡µé¢ä¸­è¿è¡Œå„é¡¹æµ‹è¯•

#### ğŸ”§ å¸¸è§é”™è¯¯ä¿¡æ¯åŠè§£å†³æ–¹æ¡ˆ

**é”™è¯¯**: `Cannot read property 'addEventListener' of null`
- **åŸå› **: HTMLå…ƒç´ IDä¸å­˜åœ¨
- **è§£å†³**: æ£€æŸ¥popup.htmlä¸­æ˜¯å¦æœ‰å¯¹åº”çš„å…ƒç´ ID

**é”™è¯¯**: `chrome.windows.create is not a function`
- **åŸå› **: æƒé™ä¸è¶³æˆ–Chrome APIä¸å¯ç”¨
- **è§£å†³**: æ£€æŸ¥manifest.jsonä¸­çš„permissionsé…ç½®

**é”™è¯¯**: `Failed to execute 'getPlatformInfo'`
- **åŸå› **: Chromeç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜
- **è§£å†³**: æ›´æ–°Chromeåˆ°æœ€æ–°ç‰ˆæœ¬

### 3. æ‰‹åŠ¨æµ‹è¯•æ­¥éª¤

#### ğŸ§ª åŸºç¡€åŠŸèƒ½æµ‹è¯•
1. **æ‰“å¼€æ‰©å±•å¼¹çª—**
   - ç‚¹å‡»å·¥å…·æ ä¸­çš„æ‰©å±•å›¾æ ‡
   - ç¡®è®¤ç•Œé¢æ­£å¸¸æ˜¾ç¤º

2. **é€‰æ‹©ç½‘ç«™**
   - ä»ä¸‹æ‹‰èœå•é€‰æ‹©ä¸¤ä¸ªç½‘ç«™
   - æˆ–é€‰æ‹©"è‡ªå®šä¹‰ç½‘å€"å¹¶è¾“å…¥URL

3. **ç‚¹å‡»æŒ‰é’®**
   - ç‚¹å‡»"å¼€å§‹åˆ†å±æµè§ˆ"æŒ‰é’®
   - è§‚å¯Ÿæ˜¯å¦æœ‰ååº”

#### ğŸ§ª é«˜çº§åŠŸèƒ½æµ‹è¯•
1. **æ¨¡æ¿åŠŸèƒ½**
   - ç‚¹å‡»ä¸åŒçš„æ¨¡æ¿æŒ‰é’®
   - æ£€æŸ¥ç½‘ç«™é€‰æ‹©æ¡†æ˜¯å¦æ›´æ–°

2. **æ¨¡å¼åˆ‡æ¢**
   - ç‚¹å‡»ä¸åŒçš„åˆ†å±æ¨¡å¼æŒ‰é’®
   - æ£€æŸ¥æŒ‰é’®çŠ¶æ€æ˜¯å¦æ­£ç¡®æ›´æ–°

3. **è®¾ç½®ä¿å­˜**
   - å‹¾é€‰"è®°ä½ä¸Šæ¬¡å¸ƒå±€è®¾ç½®"
   - é‡æ–°æ‰“å¼€æ‰©å±•æ£€æŸ¥è®¾ç½®æ˜¯å¦ä¿å­˜

### 4. ä½¿ç”¨å¼€å‘è€…å·¥å…·è¯¦ç»†è°ƒè¯•

#### ğŸ› ï¸ å¼¹çª—è°ƒè¯•
```javascript
// åœ¨å¼¹çª—æ§åˆ¶å°ä¸­è¿è¡Œ
console.log('Current mode:', currentMode);
console.log('Current tab:', currentTab);
console.log('Split view enabled:', splitViewEnabled);

// æ‰‹åŠ¨è§¦å‘æŒ‰é’®ç‚¹å‡»
document.getElementById('btn-split')?.click();
document.getElementById('btn-alternative')?.click();
```

#### ğŸ› ï¸ åå°è„šæœ¬è°ƒè¯•
```javascript
// åœ¨åå°è„šæœ¬æ§åˆ¶å°ä¸­è¿è¡Œ
chrome.runtime.sendMessage({
  action: 'checkSplitViewSupport'
}, response => {
  console.log('Support check response:', response);
});
```

### 5. å¸¸è§é—®é¢˜ä¿®å¤

#### ğŸ”„ é‡æ–°å®‰è£…æ‰©å±•
1. åœ¨ `chrome://extensions/` ä¸­ç§»é™¤æ‰©å±•
2. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
3. é‡æ–°é€‰æ‹©é¡¹ç›®æ–‡ä»¶å¤¹

#### ğŸ“ æ–‡ä»¶å®Œæ•´æ€§æ£€æŸ¥
ç¡®ä¿é¡¹ç›®æ–‡ä»¶å¤¹åŒ…å«æ‰€æœ‰å¿…éœ€æ–‡ä»¶ï¼š
```
split-view/
â”œâ”€â”€ manifest.json    âœ…
â”œâ”€â”€ popup.html       âœ…
â”œâ”€â”€ popup.css        âœ…
â”œâ”€â”€ popup.js         âœ…
â”œâ”€â”€ background.js    âœ…
â”œâ”€â”€ guide.html       âœ…
â”œâ”€â”€ test.html        âœ…
â””â”€â”€ icons/           âœ…
    â””â”€â”€ README.md    âœ…
```

#### ğŸ” æƒé™éªŒè¯
åœ¨æµ‹è¯•é¡µé¢ä¸­è¿è¡Œæƒé™æ£€æŸ¥ï¼š
```javascript
// æ£€æŸ¥æƒé™
chrome.permissions.contains({
  permissions: ['windows', 'tabs', 'storage']
}, hasPermissions => {
  console.log('Has required permissions:', hasPermissions);
});
```

### 6. æŠ¥å‘Šé—®é¢˜

å¦‚æœä»¥ä¸Šæ­¥éª¤éƒ½æ— æ³•è§£å†³é—®é¢˜ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **Chromeç‰ˆæœ¬**: åœ¨ `chrome://settings/help` ä¸­æŸ¥çœ‹
2. **æ“ä½œç³»ç»Ÿ**: Windows/macOS/Linuxç‰ˆæœ¬
3. **é”™è¯¯ä¿¡æ¯**: æ§åˆ¶å°ä¸­çš„å®Œæ•´é”™è¯¯æ—¥å¿—
4. **å¤ç°æ­¥éª¤**: è¯¦ç»†æè¿°å¦‚ä½•è§¦å‘é—®é¢˜
5. **æ‰©å±•çŠ¶æ€**: æ‰©å±•ç®¡ç†é¡µé¢ä¸­æ˜¾ç¤ºçš„çŠ¶æ€ä¿¡æ¯

### 7. å¿«é€Ÿä¿®å¤è„šæœ¬

åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­è¿è¡Œä»¥ä¸‹è„šæœ¬è¿›è¡Œå¿«é€Ÿä¿®å¤æµ‹è¯•ï¼š

```javascript
// æµ‹è¯•åŸºç¡€API
(async function testExtension() {
  try {
    console.log('Testing Chrome APIs...');

    // æµ‹è¯•çª—å£API
    const currentWindow = await chrome.windows.getCurrent();
    console.log('âœ… Windows API works:', currentWindow.id);

    // æµ‹è¯•æ ‡ç­¾é¡µAPI
    const tabs = await chrome.tabs.query({active: true, currentWindow: true});
    console.log('âœ… Tabs API works:', tabs[0]?.url);

    // æµ‹è¯•å­˜å‚¨API
    await chrome.storage.local.set({test: 'value'});
    console.log('âœ… Storage API works');

    // æµ‹è¯•æ¶ˆæ¯ä¼ é€’
    const response = await chrome.runtime.sendMessage({
      action: 'checkSplitViewSupport'
    });
    console.log('âœ… Message passing works:', response);

  } catch (error) {
    console.error('âŒ API test failed:', error);
  }
})();
```

### 8. æ€§èƒ½ä¼˜åŒ–å»ºè®®

å¦‚æœæ‰©å±•å“åº”è¾ƒæ…¢ï¼š
1. **å…³é—­å…¶ä»–æ‰©å±•**ï¼šä¸´æ—¶ç¦ç”¨å…¶ä»–Chromeæ‰©å±•
2. **æ¸…ç†æµè§ˆå™¨ç¼“å­˜**ï¼šæ¸…ç†Chromeç¼“å­˜å’ŒCookie
3. **é‡å¯Chrome**ï¼šå®Œå…¨å…³é—­å¹¶é‡æ–°æ‰“å¼€Chrome
4. **æ£€æŸ¥ç³»ç»Ÿèµ„æº**ï¼šç¡®ä¿æœ‰è¶³å¤Ÿçš„å†…å­˜å’ŒCPUå¯ç”¨

---

ğŸ’¡ **æç¤º**: å¤§å¤šæ•°é—®é¢˜éƒ½æ˜¯æƒé™é…ç½®æˆ–æ–‡ä»¶è·¯å¾„é—®é¢˜ã€‚ä»”ç»†æ£€æŸ¥manifest.jsonå’Œç¡®ä¿æ‰€æœ‰æ–‡ä»¶éƒ½åœ¨æ­£ç¡®ä½ç½®é€šå¸¸èƒ½è§£å†³80%çš„é—®é¢˜ã€‚

ğŸš€ å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿï¼š
- çœ‹åˆ°æ‰©å±•å¼¹çª—æ­£å¸¸æ˜¾ç¤º
- é€‰æ‹©ç½‘ç«™åç‚¹å‡»æŒ‰é’®åˆ›å»ºä¸¤ä¸ªå¹¶æ’çª—å£
- çœ‹åˆ°æˆåŠŸæç¤ºæ¶ˆæ¯
- åˆ†å±çª—å£è‡ªåŠ¨è°ƒæ•´åˆ°åˆé€‚çš„å¤§å°å’Œä½ç½®